"use strict";(self.webpackChunkcrm_ui=self.webpackChunkcrm_ui||[]).push([[207],{8207:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var a=t(2791),s=t(7913),r=t(9439),i=t(3051),o=t(3433),l=t(1413),c=t(1889),d=t(493),u=t(4852),x=t(7391),h=t(2344),m=t(3915),Z=t(2738),j=t(217),f=t(7553),p=t(7621),g=t(9585),v=t(9504),b=t(703),C=t(2363),k=t(3466),w=t(3400),P=t(8087),y=t(3168),V=t(3044);function F(e){var n,t=0;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);var a="#";for(n=0;n<3;n+=1){a+="00".concat((t>>8*n&255).toString(16)).substr(-2)}return a}var I=t(184),S=function(e){var n,t=e.comment,a=(0,y.$)("components",{keyPrefix:"formCommentsArea"}).t;return(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(g.Z,{avatar:(0,I.jsx)(V.Z,(0,l.Z)({},(n=t.owner?t.owner.name+t.owner.surname:"Admin",{sx:{bgcolor:F(n),marginLeft:"auto","&:hover":{cursor:"pointer"}},children:n.includes(" ")?"".concat(n.split(" ")[0][0]).concat(n.split(" ")[1][0]):"".concat(n.split(" ")[0][0])}))),title:t.owner?t.owner.name+t.owner.surname:"Admin",subheader:t.createdDate?t.createdDate.toLocaleString():a("unknown-date")}),(0,I.jsx)(v.Z,{children:t.content})]})},O=function(e){var n=e.title,t=e.onChange,s=e.values,i=(0,a.useState)(),o=(0,r.Z)(i,2),l=o[0],c=o[1],d=(0,y.$)("components",{keyPrefix:"formCommentsArea"}).t;return(0,I.jsxs)(p.Z,{sx:{width:"100%"},children:[(0,I.jsx)(g.Z,{title:n}),(0,I.jsx)(v.Z,{sx:{height:"30vh",maxHeight:"30vh",overflow:"auto"},children:s&&(null===s||void 0===s?void 0:s.length)>0?s.map((function(e){return(0,I.jsx)(b.Z,{sx:{m:2,p:2},elevation:10,children:(0,I.jsx)(S,{comment:e})})})):(0,I.jsx)(b.Z,{sx:{m:2,p:2},elevation:10,children:d("no-comment")})}),(0,I.jsx)(C.Z,{children:(0,I.jsx)(x.Z,{multiline:!0,fullWidth:!0,maxRows:4,value:l,onChange:function(e){return c(e.target.value)},variant:"standard",InputProps:{endAdornment:(0,I.jsx)(k.Z,{position:"end",children:(0,I.jsx)(w.Z,{onClick:function(){var e={id:0,content:l,createdDate:new Date};t(e)},children:(0,I.jsx)(P.Z,{})})})}})})]})},D=t(8419),T=t(4890),A=t(9650),M={id:0,name:"",description:"",assignedMember:{id:0},assignedCandidate:{id:0},situation:"on-progress",comments:[],endDate:null},$=t(6958),L=t(3912),H=t(2840),B=t(6935),E=t(318),N=t(6739),R=t(890),W=function(e){var n=e.selected,t=e.color,s=e.icon,r=e.onClick;return(0,I.jsx)(w.Z,{sx:{borderStyle:"solid",borderWidth:"thin",padding:.5,margin:1,backgroundColor:n?t+".main":"white","&:hover":{backgroundColor:n?"white":t+".main"}},onClick:r,color:t,children:a.cloneElement(s,{sx:n?{color:"white","&:hover":{color:t+".main"}}:{color:t+".main","&:hover":{color:"white"}}})})},_=function(e){var n=e.setFieldValue,t=e.situation,s=e.title,i=(0,a.useState)(t||"open"),o=(0,r.Z)(i,2),l=o[0],c=o[1];return(0,I.jsxs)(b.Z,{sx:{padding:2,marginTop:1},children:[(0,I.jsx)(R.Z,{variant:"subtitle1",children:s}),(0,I.jsx)(W,{selected:"open"===l,onClick:function(){c("open"),n("situation","open")},color:"info",icon:(0,I.jsx)(H.Z,{})}),(0,I.jsx)(W,{selected:"on-progress"===l,onClick:function(){c("on-progress"),n("situation","on-progress")},color:"warning",icon:(0,I.jsx)(B.Z,{})}),(0,I.jsx)(W,{selected:"completed"===l,onClick:function(){c("completed"),n("situation","completed")},color:"success",icon:(0,I.jsx)(E.Z,{})}),(0,I.jsx)(W,{selected:"closed"===l,onClick:function(){c("closed"),n("situation","closed")},color:"error",icon:(0,I.jsx)(N.Z,{})})]})},z=function(e){var n=e.task,t=e.isOpen,a=e.setIsOpen,s=(0,y.$)("pages",{keyPrefix:"tasks.modal"}).t,r=(0,A.TA)({initialValues:n?(0,l.Z)({},n):(0,l.Z)({},M),onSubmit:function(){},enableReinitialize:!0});return(0,I.jsx)(f.Z,{title:r.values.id?s("edit"):s("add"),isOpen:t,setIsOpen:a,saveFunction:function(){},children:(0,I.jsxs)(c.ZP,{container:!0,children:[(0,I.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,I.jsxs)(d.Z,{children:[(0,I.jsx)(u.ZP,{children:(0,I.jsx)(j.Z,{label:s("form.id"),type:"number",value:r.values.id,name:"id",onChange:r.handleChange,disabled:!0})}),(0,I.jsx)(u.ZP,{children:(0,I.jsx)(j.Z,{label:s("form.name"),type:"text",value:r.values.name,name:"name",onChange:r.handleChange})}),(0,I.jsx)(u.ZP,{children:(0,I.jsx)(j.Z,{label:s("form.description"),type:"text",value:r.values.description,name:"description",onChange:r.handleChange})}),(0,I.jsx)(u.ZP,{children:(0,I.jsx)(D.Z,{label:s("form.assigned-candidate"),getValue:function(e){return e.id},handleChange:function(e){r.setFieldValue("assignedCandidate",L.Z.filter((function(n){return n.id===e.target.value}))[0])},datas:L.Z,defaultValue:s("form.dropdown-no-candidate"),dataToValue:function(e){return e.id+" - "+e.name+" "+e.surname},selectedValue:r.values.assignedCandidate?r.values.assignedCandidate.id:0})}),(0,I.jsx)(u.ZP,{children:(0,I.jsx)(D.Z,{label:s("form.assigned-member"),getValue:function(e){return e.id},handleChange:function(e){r.setFieldValue("assignedMember",$.Z.filter((function(n){return n.id===e.target.value}))[0])},datas:$.Z,defaultValue:s("form.dropdown-global"),dataToValue:function(e){return e.id+" - "+e.name+" "+e.surname},selectedValue:r.values.assignedMember?r.values.assignedMember.id:0})}),(0,I.jsx)(u.ZP,{children:(0,I.jsx)(m.Z,{dateAdapter:h.Z,locale:T.Z,children:(0,I.jsx)(Z.Z,{label:s("form.end-date"),value:r.values.endDate,onChange:function(e){r.setFieldValue("endDate",e)},renderInput:function(e){return(0,I.jsx)(x.Z,(0,l.Z)({sx:{m:1}},e))}})})})]})}),(0,I.jsxs)(c.ZP,{item:!0,xs:12,md:6,children:[(0,I.jsx)(O,{title:s("form.comments"),values:r.values.comments,onChange:function(e){var n=r.values.comments?(0,o.Z)(r.values.comments):[];n.push(e),r.setFieldValue("comments",n)}}),(0,I.jsx)(_,{title:s("form.change-situation"),situation:r.values.situation,setFieldValue:r.setFieldValue})]})]})})},G=t(1918),q=t(6012);var J=t(1886),K=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],s=n[1],o=(0,a.useState)(void 0),l=(0,r.Z)(o,2),c=l[0],d=l[1],u=(0,y.$)("pages",{keyPrefix:"tasks.table"}).t;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(z,{task:c,isOpen:t,setIsOpen:s}),(0,I.jsx)(J.Z,{data:i.Z,cellNames:[u("id"),u("name"),u("description"),u("assigned-candidate"),u("situation")],keysToShow:["id","name","description","assignedCandidate.name","situation"],setModalData:d,setIsDataModalOpen:s,customDataComponent:{situation:function(e){return function(e){var n="pages:tasks.helpers.chip-text.";switch(e){case"on-progress":return(0,I.jsx)(G.Z,{icon:(0,I.jsx)(B.Z,{}),label:q.Z.t(n+"on-progress"),color:"warning"});case"completed":return(0,I.jsx)(G.Z,{icon:(0,I.jsx)(E.Z,{}),label:q.Z.t(n+"completed"),color:"success"});case"open":return(0,I.jsx)(G.Z,{icon:(0,I.jsx)(H.Z,{}),label:q.Z.t(n+"open"),color:"info"});case"closed":return(0,I.jsx)(G.Z,{icon:(0,I.jsx)(N.Z,{}),label:q.Z.t(n+"closed"),color:"error"})}}(e)}}})]})},Q=function(){return(0,a.useEffect)((function(){s.r.dispatch({type:"CHANGE_TITLE",payload:{title:"tasks"}})})),(0,I.jsx)(K,{})}},7553:function(e,n,t){t(2791);var a=t(9143),s=t(7621),r=t(9585),i=t(3400),o=t(9504),l=t(2363),c=t(4518),d=t(9598),u=t(920),x=t(3168),h=t(184);n.Z=function(e){var n=e.isOpen,t=e.setIsOpen,m=e.title,Z=e.saveFunction,j=e.children,f=(0,x.$)("components",{keyPrefix:"actionModal"}).t;return(0,h.jsx)(a.Z,{open:n,onClose:function(){return t(!1)},children:(0,h.jsxs)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%",height:"85%",bgcolor:"background.paper",border:"none"},children:[(0,h.jsx)(r.Z,{sx:{p:2,bgcolor:"success.dark",color:"white"},title:m,action:(0,h.jsx)(i.Z,{onClick:function(){t(!1)},children:(0,h.jsx)(d.Z,{htmlColor:"white"})})}),(0,h.jsx)(o.Z,{sx:{height:"76%",overflow:"auto"},children:j}),(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{sx:{border:"none !important",marginLeft:"auto"},startIcon:(0,h.jsx)(u.Z,{}),color:"success",variant:"contained",onClick:function(){t(!1),Z()},children:f("save")})})]})})}},1886:function(e,n,t){t.d(n,{Z:function(){return M}});var a=t(3433),s=t(9439),r=t(1526),i=t(8087),o=t(9981),l=t(703),c=t(9281),d=t(9836),u=t(6890),x=t(5855),h=t(3994),m=t(9174),Z=t(3382),j=t(4518),f=t(6812),p=t(3767),g=t(2199),v=t(2791),b=t(3168);var C=t(1889),k=t(2167),w=t(7078),P=t(3466),y=t(184),V=function(e){var n=(0,b.$)("components",{keyPrefix:"searchInput"}).t,t=e.onChange;return(0,y.jsx)(w.Z,{type:"search",onChange:t,startAdornment:(0,y.jsx)(P.Z,{position:"start",children:(0,y.jsx)(k.Z,{})}),placeholder:n("placeholder"),sx:{width:"40em",mx:"auto"}})},F=t(4035),I=t(1413),S=t(9143),O=t(890),D=t(7391),T=function(e){var n=e.isOpen,t=e.setIsOpen,a=e.filters,r=e.searchForm,i=(0,v.useState)(r.values.search),o=(0,s.Z)(i,2),c=o[0],d=o[1],u=(0,b.$)("components",{keyPrefix:"crudTable.advanced-search-modal"}).t;return(0,y.jsx)(S.Z,{open:n,onClose:function(){return t(!1)},children:(0,y.jsxs)(l.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"70%",minHeight:"60%",bgcolor:"background.paper",border:"none",padding:3,display:"flex",flexDirection:"column"},children:[(0,y.jsx)(p.Z,{mx:"auto",children:(0,y.jsx)(O.Z,{variant:"h5",component:"h6",children:u("title")})}),(0,y.jsx)(C.ZP,{container:!0,display:"flex",width:"100%",textAlign:"center",children:a.map((function(e,n){return(0,y.jsx)(C.ZP,{item:!0,xs:12,md:4,children:(0,y.jsx)(D.Z,{label:e.label,type:"text",name:e.name,value:c[e.name],variant:"standard",margin:"dense",onChange:function(n){var t=(0,I.Z)({},c);t[e.name]=n.target.value,d(t)}})},n)}))}),(0,y.jsx)(p.Z,{mt:"auto",ml:"auto",children:(0,y.jsx)(j.Z,{variant:"contained",onClick:function(){t(!1),r.setFieldValue("search",c),r.submitForm()},startIcon:(0,y.jsx)(k.Z,{}),children:u("search")})})]})})},A=function(e){var n=e.searchForm,t=e.filters,a=(0,v.useState)(""),r=(0,s.Z)(a,2),i=r[0],o=r[1],l=(0,v.useState)(!1),c=(0,s.Z)(l,2),d=c[0],u=c[1],x=(0,b.$)("components",{keyPrefix:"crudTable.search-bar"}).t;return(0,y.jsxs)(y.Fragment,{children:[Boolean(t)&&(0,y.jsx)(T,{isOpen:d,setIsOpen:u,searchForm:n,filters:t||[]}),(0,y.jsxs)(C.ZP,{container:!0,spacing:2,sx:{mr:"auto",width:"50%",ml:2,alignItems:"flex-end"},children:[(0,y.jsx)(C.ZP,{item:!0,xs:5,sx:{display:"flex"},children:(0,y.jsx)(V,{onChange:function(e){o(e.target.value)}})}),(0,y.jsx)(C.ZP,{item:!0,xs:2,children:(0,y.jsx)(j.Z,{sx:{ml:"auto"},startIcon:(0,y.jsx)(k.Z,{}),onClick:function(){n.setFieldValue("search",{name:i}),n.submitForm()},children:x("search")})}),Boolean(t)&&(0,y.jsx)(C.ZP,{item:!0,xs:4,children:(0,y.jsx)(j.Z,{sx:{ml:"auto"},startIcon:(0,y.jsx)(F.Z,{}),onClick:function(){u(!0)},children:x("advanced-search")})})]})]})},M=function(e){var n=e.data,t=e.cellNames,C=e.setModalData,k=e.keysToShow,w=e.setIsDataModalOpen,P=e.customDataComponent,V=e.searchForm,F=e.filters,I=P||[],S=(0,b.$)("components",{keyPrefix:"crudTable"}).t,O=(0,v.useState)(0),D=(0,s.Z)(O,2),T=D[0],M=D[1],$=(0,v.useState)(10),L=(0,s.Z)($,2),H=L[0],B=L[1],E=(0,v.useState)([]),N=(0,s.Z)(E,2),R=N[0],W=N[1];return(0,y.jsxs)(l.Z,{sx:{width:"calc(100% - 40px)",marginLeft:"auto",overflow:"hidden",boxShadow:"none"},children:[Boolean(V)&&(0,y.jsx)(A,{searchForm:V,filters:F}),(0,y.jsx)(c.Z,{sx:{maxHeight:"500px"},children:(0,y.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,y.jsx)(u.Z,{children:(0,y.jsxs)(x.Z,{children:[(0,y.jsx)(h.Z,{children:(0,y.jsx)(m.Z,{value:"all",checked:n.length===R.length,onChange:function(e){e.target.checked?W(n.map((function(e){return e.id}))):W([])}})}),t.map((function(e,n){return(0,y.jsx)(h.Z,{children:e},n)})),(0,y.jsx)(h.Z,{})]})}),(0,y.jsx)(Z.Z,{children:n.length>0?n.slice(T*H,(T+1)*H).map((function(e,n){return(0,y.jsxs)(x.Z,{children:[(0,y.jsx)(h.Z,{children:(0,y.jsx)(m.Z,{value:e.id,checked:R.includes(e.id),onChange:function(n){if(n.target.checked){var t=(0,a.Z)(R);t.push(e.id),W(t)}else{var s=(0,a.Z)(R);s.splice(s.indexOf(e.id),1),W(s)}}})},n),k.map((function(n,t){return(0,y.jsx)(h.Z,{children:Object.keys(I).includes(n)?I[n](e[n]):n.includes(".")?(a=n,s=e,a.split(".").reduce((function(e,n){return e?e[n]:null}),s)):e[n]},t);var a,s})),(0,y.jsx)(h.Z,{children:(0,y.jsx)(j.Z,{sx:{border:"none !important"},color:"warning",variant:"contained",onClick:function(){C(e),w(!0)},children:(0,y.jsx)(r.Z,{})})})]},n)})):(0,y.jsx)(x.Z,{children:(0,y.jsx)(h.Z,{colSpan:t.length+1,align:"center",children:S("no-data")})})})]})}),(0,y.jsx)(f.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:H,page:T,onPageChange:function(e,n){M(n)},onRowsPerPageChange:function(e){B(+e.target.value),M(0)}}),(0,y.jsx)(p.Z,{padding:1,children:(0,y.jsxs)(g.Z,{sx:{marginLeft:"auto"},"aria-label":"medium button group contained",variant:"contained",children:[(0,y.jsx)(j.Z,{sx:{border:"none !important"},startIcon:(0,y.jsx)(i.Z,{}),color:"success",onClick:function(){C(void 0),w(!0)},children:S("add")}),(0,y.jsx)(j.Z,{sx:{border:"none !important"},startIcon:(0,y.jsx)(o.Z,{}),color:"error",children:S("delete")})]})})]})}},8419:function(e,n,t){var a=t(1413),s=t(8096),r=t(4925),i=t(7198),o=t(9891),l=(t(2791),t(184));n.Z=function(e){var n=e.label,t=e.handleChange,c=e.defaultValue,d=e.datas,u=e.dataToValue,x=e.selectedValue,h=e.disabled,m=(e.width,e.getValue),Z=e.sx;return(0,l.jsxs)(s.Z,{variant:"standard",disabled:h,sx:(0,a.Z)({width:"100%",m:1},Z),children:[(0,l.jsx)(r.Z,{children:n}),(0,l.jsxs)(i.Z,{value:x,label:n,onChange:t,children:[(0,l.jsx)(o.Z,{value:0,children:(0,l.jsx)("em",{children:c})}),d.map((function(e,n){return(0,l.jsx)(o.Z,{value:m(e),children:u(e)},n)}))]})]})}},217:function(e,n,t){t(2791);var a=t(8096),s=t(4925),r=t(7078),i=t(184);n.Z=function(e){var n=e.label,t=e.type,o=e.value,l=e.name,c=e.onChange,d=e.disabled;return(0,i.jsxs)(a.Z,{error:!Boolean(o),sx:{width:"100%",m:1},children:[(0,i.jsx)(s.Z,{htmlFor:l,children:n}),(0,i.jsx)(r.Z,{id:l,name:l,value:o,type:t,onChange:c,disabled:d})]})}}}]);
//# sourceMappingURL=207.3f755912.chunk.js.map