"use strict";(self.webpackChunkcrm_ui=self.webpackChunkcrm_ui||[]).push([[973],{7973:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(2791),s=t(7913),r=t(9439),i=t(3501),o=t(1413),l=t(9650),c=t(3168),d=t(1889),u=t(493),h=t(4852),x=t(4554),m=t(890),p=t(217),Z=t(7553),j={id:0,name:"",address:"",city:"",sector:"",jobs:[],mapsCoord:{lat:51.509865,lng:-.118092}},f=t(3249),g=t(184),v=function(e){var n,t=e.company,a=e.isOpen,s=e.setIsOpen,r=(0,c.$)("pages",{keyPrefix:"companies.modal"}).t,i=(0,l.TA)({initialValues:t?(0,o.Z)({},t):(0,o.Z)({},j),onSubmit:function(){},enableReinitialize:!0});return(0,g.jsx)(Z.Z,{isOpen:a,setIsOpen:s,title:i.values.id?r("edit"):r("add"),saveFunction:function(){},children:(0,g.jsxs)(d.ZP,{container:!0,padding:2,spacing:2,children:[(0,g.jsx)(d.ZP,{xs:12,md:6,item:!0,children:(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(h.ZP,{children:(0,g.jsx)(p.Z,{label:r("form.id"),type:"number",value:i.values.id,name:"id",onChange:i.handleChange,disabled:!0})}),(0,g.jsx)(h.ZP,{children:(0,g.jsx)(p.Z,{label:r("form.name"),type:"text",value:i.values.name,name:"name",onChange:i.handleChange})}),(0,g.jsx)(h.ZP,{children:(0,g.jsx)(p.Z,{label:r("form.address"),type:"text",value:i.values.address,name:"address",onChange:i.handleChange})}),(0,g.jsx)(h.ZP,{children:(0,g.jsx)(p.Z,{label:r("form.city"),type:"text",value:i.values.city,name:"city",onChange:i.handleChange})}),(0,g.jsx)(h.ZP,{children:(0,g.jsx)(p.Z,{label:r("form.sector"),type:"text",value:i.values.sector,name:"sector",onChange:i.handleChange})})]})}),(0,g.jsxs)(d.ZP,{item:!0,xs:12,md:6,children:[(0,g.jsxs)(x.Z,{m:1,children:[(0,g.jsx)(m.Z,{variant:"subtitle1",children:r("form.jobs")}),(0,g.jsx)(u.Z,{sx:{padding:1},children:i.values.jobs&&i.values.jobs.length>0?null===(n=i.values.jobs)||void 0===n?void 0:n.map((function(e,n){return(0,g.jsx)(h.ZP,{children:e.name},n)})):(0,g.jsx)(h.ZP,{children:"No Jobs"})})]}),(0,g.jsx)(f.Z,{mainCoords:i.values.mapsCoord,setCoord:function(e){i.setFieldValue("mapsCoord",e)},isMainMoving:!0})]})]})})},b=t(1408),C=function(){var e=(0,c.$)("pages",{keyPrefix:"companies.table"}).t,n=(0,a.useState)(!1),t=(0,r.Z)(n,2),s=t[0],o=t[1],l=(0,a.useState)(void 0),d=(0,r.Z)(l,2),u=d[0],h=d[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v,{company:u,isOpen:s,setIsOpen:o}),(0,g.jsx)(b.Z,{data:i.Z,cellNames:[e("id"),e("name"),e("city")],keysToShow:["id","name","city"],setModalData:h,setIsDataModalOpen:o})]})},y=function(){return(0,a.useEffect)((function(){s.r.dispatch({type:"CHANGE_TITLE",payload:{title:"companies"}})})),(0,g.jsx)(C,{})}},7553:function(e,n,t){t(2791);var a=t(9143),s=t(7621),r=t(9585),i=t(3400),o=t(9504),l=t(2363),c=t(4518),d=t(9598),u=t(920),h=t(3168),x=t(184);n.Z=function(e){var n=e.isOpen,t=e.setIsOpen,m=e.title,p=e.saveFunction,Z=e.children,j=(0,h.$)("components",{keyPrefix:"actionModal"}).t;return(0,x.jsx)(a.Z,{open:n,onClose:function(){return t(!1)},children:(0,x.jsxs)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%",height:"85%",bgcolor:"background.paper",border:"none"},children:[(0,x.jsx)(r.Z,{sx:{p:2,bgcolor:"success.dark",color:"white"},title:m,action:(0,x.jsx)(i.Z,{onClick:function(){t(!1)},children:(0,x.jsx)(d.Z,{htmlColor:"white"})})}),(0,x.jsx)(o.Z,{sx:{height:"76%",overflow:"auto"},children:Z}),(0,x.jsx)(l.Z,{children:(0,x.jsx)(c.Z,{sx:{border:"none !important",marginLeft:"auto"},startIcon:(0,x.jsx)(u.Z,{}),color:"success",variant:"contained",onClick:function(){t(!1),p()},children:j("save")})})]})})}},1408:function(e,n,t){t.d(n,{Z:function(){return A}});var a=t(3433),s=t(9439),r=t(1526),i=t(8087),o=t(9981),l=t(703),c=t(9281),d=t(9836),u=t(6890),h=t(5855),x=t(3994),m=t(9174),p=t(3382),Z=t(4518),j=t(6812),f=t(3767),g=t(2199),v=t(2791),b=t(3168),C=t(8769),y=t(1889),k=t(2167),P=t(7078),w=t(3466),I=t(184),M=function(e){var n=(0,b.$)("components",{keyPrefix:"searchInput"}).t,t=e.onChange;return(0,I.jsx)(P.Z,{type:"search",onChange:t,startAdornment:(0,I.jsx)(w.Z,{position:"start",children:(0,I.jsx)(k.Z,{})}),placeholder:n("placeholder"),sx:{width:"40em",mx:"auto"}})},F=t(4035),O=t(1413),S=t(9143),B=t(890),L=t(7391),T=function(e){var n=e.isOpen,t=e.setIsOpen,a=e.filters,r=e.searchForm,i=(0,v.useState)(r.values.search),o=(0,s.Z)(i,2),c=o[0],d=o[1],u=(0,b.$)("components",{keyPrefix:"crudTable.advanced-search-modal"}).t;return(0,I.jsx)(S.Z,{open:n,onClose:function(){return t(!1)},children:(0,I.jsxs)(l.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"70%",minHeight:"60%",bgcolor:"background.paper",border:"none",padding:3,display:"flex",flexDirection:"column"},children:[(0,I.jsx)(f.Z,{mx:"auto",children:(0,I.jsx)(B.Z,{variant:"h5",component:"h6",children:u("title")})}),(0,I.jsx)(y.ZP,{container:!0,display:"flex",width:"100%",textAlign:"center",children:a.map((function(e,n){return(0,I.jsx)(y.ZP,{item:!0,xs:12,md:4,children:(0,I.jsx)(L.Z,{label:e.label,type:"text",name:e.name,value:c[e.name],variant:"standard",margin:"dense",onChange:function(n){var t=(0,O.Z)({},c);t[e.name]=n.target.value,d(t)}})},n)}))}),(0,I.jsx)(f.Z,{mt:"auto",ml:"auto",children:(0,I.jsx)(Z.Z,{variant:"contained",onClick:function(){t(!1),r.setFieldValue("search",c),r.submitForm()},startIcon:(0,I.jsx)(k.Z,{}),children:u("search")})})]})})},$=function(e){var n=e.searchForm,t=e.filters,a=(0,v.useState)(""),r=(0,s.Z)(a,2),i=r[0],o=r[1],l=(0,v.useState)(!1),c=(0,s.Z)(l,2),d=c[0],u=c[1],h=(0,b.$)("components",{keyPrefix:"crudTable.search-bar"}).t;return(0,I.jsxs)(I.Fragment,{children:[Boolean(t)&&(0,I.jsx)(T,{isOpen:d,setIsOpen:u,searchForm:n,filters:t||[]}),(0,I.jsxs)(y.ZP,{container:!0,spacing:2,sx:{mr:"auto",width:"50%",ml:2,alignItems:"flex-end"},children:[(0,I.jsx)(y.ZP,{item:!0,xs:5,sx:{display:"flex"},children:(0,I.jsx)(M,{onChange:function(e){o(e.target.value)}})}),(0,I.jsx)(y.ZP,{item:!0,xs:2,children:(0,I.jsx)(Z.Z,{sx:{ml:"auto"},startIcon:(0,I.jsx)(k.Z,{}),onClick:function(){n.setFieldValue("search",{name:i}),n.submitForm()},children:h("search")})}),Boolean(t)&&(0,I.jsx)(y.ZP,{item:!0,xs:4,children:(0,I.jsx)(Z.Z,{sx:{ml:"auto"},startIcon:(0,I.jsx)(F.Z,{}),onClick:function(){u(!0)},children:h("advanced-search")})})]})]})},A=function(e){var n=e.data,t=e.cellNames,y=e.setModalData,k=e.keysToShow,P=e.setIsDataModalOpen,w=e.customDataComponent,M=e.searchForm,F=e.filters,O=w||[],S=(0,b.$)("components",{keyPrefix:"crudTable"}).t,B=(0,v.useState)(0),L=(0,s.Z)(B,2),T=L[0],A=L[1],D=(0,v.useState)(10),N=(0,s.Z)(D,2),H=N[0],V=N[1],z=(0,v.useState)([]),E=(0,s.Z)(z,2),J=E[0],R=E[1];return(0,I.jsxs)(l.Z,{sx:{width:"calc(100% - 40px)",marginLeft:"auto",overflow:"hidden",boxShadow:"none"},children:[Boolean(M)&&(0,I.jsx)($,{searchForm:M,filters:F}),(0,I.jsx)(c.Z,{sx:{maxHeight:"500px"},children:(0,I.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,I.jsx)(u.Z,{children:(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(x.Z,{children:(0,I.jsx)(m.Z,{value:"all",checked:n.length===J.length,onChange:function(e){e.target.checked?R(n.map((function(e){return e.id}))):R([])}})}),t.map((function(e,n){return(0,I.jsx)(x.Z,{children:e},n)})),(0,I.jsx)(x.Z,{})]})}),(0,I.jsx)(p.Z,{children:n.length>0?n.slice(T*H,(T+1)*H).map((function(e,n){return(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(x.Z,{children:(0,I.jsx)(m.Z,{value:e.id,checked:J.includes(e.id),onChange:function(n){if(n.target.checked){var t=(0,a.Z)(J);t.push(e.id),R(t)}else{var s=(0,a.Z)(J);s.splice(s.indexOf(e.id),1),R(s)}}})},n),k.map((function(n,t){return(0,I.jsx)(x.Z,{children:Object.keys(O).includes(n)?O[n](e[n]):n.includes(".")?(0,C.Z)(n,e):e[n]},t)})),(0,I.jsx)(x.Z,{children:(0,I.jsx)(Z.Z,{sx:{border:"none !important"},color:"warning",variant:"contained",onClick:function(){y(e),P(!0)},children:(0,I.jsx)(r.Z,{})})})]},n)})):(0,I.jsx)(h.Z,{children:(0,I.jsx)(x.Z,{colSpan:t.length+1,align:"center",children:S("no-data")})})})]})}),(0,I.jsx)(j.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:H,page:T,onPageChange:function(e,n){A(n)},onRowsPerPageChange:function(e){V(+e.target.value),A(0)}}),(0,I.jsx)(f.Z,{padding:1,children:(0,I.jsxs)(g.Z,{sx:{marginLeft:"auto"},"aria-label":"medium button group contained",variant:"contained",children:[(0,I.jsx)(Z.Z,{sx:{border:"none !important"},startIcon:(0,I.jsx)(i.Z,{}),color:"success",onClick:function(){y(void 0),P(!0)},children:S("add")}),(0,I.jsx)(Z.Z,{sx:{border:"none !important"},startIcon:(0,I.jsx)(o.Z,{}),color:"error",children:S("delete")})]})})]})}},217:function(e,n,t){t(2791);var a=t(8096),s=t(4925),r=t(7078),i=t(184);n.Z=function(e){var n=e.label,t=e.type,o=e.value,l=e.name,c=e.onChange,d=e.disabled;return(0,i.jsxs)(a.Z,{error:!Boolean(o),sx:{width:"100%",m:1},children:[(0,i.jsx)(s.Z,{htmlFor:l,children:n}),(0,i.jsx)(r.Z,{id:l,name:l,value:o,type:t,onChange:c,disabled:d})]})}},3249:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(9439),s=t(2791),r=t(4052),i=t(8898),o=t(9763),l=t(1768),c=t(184),d=function(e){var n=e.position,t=e.callBackFn;(0,l.zV)({click:function(e){t(e.latlng)}});var a=(0,s.useRef)(null),r=(0,s.useMemo)((function(){return{dragend:function(){var e=a.current;null!=e&&t(e.getLatLng())}}}),[t]);return(0,c.jsx)(c.Fragment,{children:n&&(0,c.jsx)(o.J,{ref:a,eventHandlers:r,draggable:!0,position:n})})},u=t(7621),h=t(9585),x=t(9504),m=t(3168),p=t(6984),Z=function(e){var n=e.mainCoords,t=e.secondCoord,l=e.isMainMoving,Z=e.setCoord,j=(0,m.$)("components",{keyPrefix:"mapsInput"}).t,f=(0,s.useState)(t||n),g=(0,a.Z)(f,2),v=g[0],b=g[1],C=(0,s.useState)(0),y=(0,a.Z)(C,2),k=y[0],P=y[1];return(0,c.jsxs)(u.Z,{sx:{m:1},children:[!l&&(0,c.jsx)(h.Z,{title:"".concat(k," ").concat(j("title"))}),(0,c.jsx)(x.Z,{children:(0,c.jsxs)(r.h,{center:n,zoom:12,id:"map",style:{height:"400px",width:"100%",color:"black"},scrollWheelZoom:!1,children:[(0,c.jsx)(i.I,{attribution:"",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Boolean(n&&!l)&&(0,c.jsx)(o.J,{position:n}),(0,c.jsx)(d,{position:v,callBackFn:function(e){if(e){var t=(0,p.Z)(n,e);console.log(e,n,t),P(t.toFixed(3)),b(e),Z(e)}}})]})})]})}},6984:function(e,n,t){function a(e,n){var t=s(n.lat-e.lat),a=s(n.lng-e.lng),r=s(e.lat),i=s(n.lat),o=Math.sin(t/2)*Math.sin(t/2)+Math.sin(a/2)*Math.sin(a/2)*Math.cos(r)*Math.cos(i);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function s(e){return e*Math.PI/180}t.d(n,{Z:function(){return a}})},8769:function(e,n,t){function a(e,n){return e.split(".").reduce((function(e,n){return e?e[n]:null}),n)}t.d(n,{Z:function(){return a}})},3501:function(e,n){n.Z=[{id:1,name:"Company Ankara",city:"Ankara",mapsCoord:{lat:39.925533,lng:32.866287}},{id:2,name:"Company Paris",city:"Paris",mapsCoord:{lat:48.864716,lng:2.349014}},{id:3,name:"Company London",city:"London",mapsCoord:{lat:51.509865,lng:-.118092}},{id:4,name:"Company New York",city:"New York",mapsCoord:{lat:40.73061,lng:-73.935242}},{id:5,name:"Company Berlin",city:"Berlin",mapsCoord:{lat:52.520008,lng:13.404954}}]}}]);
//# sourceMappingURL=973.9803a166.chunk.js.map